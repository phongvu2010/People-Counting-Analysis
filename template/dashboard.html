{% extends "base.html" %}

{% block header %}
    {# Header chứa tiêu đề trang và chuông thông báo #}
    {% include "partials/_header.html" %}
{% endblock %}

{% block content %}
<div class="space-y-8">
    {# Khu vực chứa các bộ lọc theo ngày, tháng, vị trí... #}
    {% include "partials/_filters.html" %}

    {# Hiệu ứng Skeleton Loading, hiển thị trong khi chờ tải dữ liệu lần đầu #}
    {% include "partials/_skeleton.html" %}

    {# Nội dung chính của dashboard, ban đầu bị ẩn đi #}
    <div id="dashboard-content" class="space-y-8 relative invisible">
        {# Lớp phủ mờ hiển thị khi tải lại dữ liệu sau khi áp dụng bộ lọc #}
        <div id="content-overlay" class="absolute inset-0 bg-gray-950/70 backdrop-blur-sm flex items-center justify-center z-10 hidden">
            <div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-400 h-16 w-16"></div>
        </div>

        {# Các thẻ chỉ số KPI chính #}
        {% include "partials/_metrics.html" %}

        {# Hai biểu đồ chính: xu hướng và tỷ trọng #}
        {% include "partials/_charts.html" %}

        {# Bảng báo cáo chi tiết #}
        {% include "partials/_table.html" %}
    </div>
</div>
{% endblock %}

{% block scripts %}
    {# Nơi chèn các thư viện JS và file dashboard.js chính #}
    {# Script được tách ra để giữ cho HTML sạch sẽ #}
{% endblock %}
